---
layout:     post
title:      "Vasp 杂记"
subtitle:   ""
date:       2021-12-03 17:55:00
author:     "XiLock"
header-img: "img/post-background/bamboo3.jpg"
header-mask: 0.3
catalog:    true
tags:
    - 《斤竹精舍·游艺集》
    - Vasp
    - 2021


---

1. 为什么要建超胞？（原来很少考虑这个问题）  
Re:一般对于完美晶体用单胞（周期中最小的重复单元）和超胞原则上对于强度性质结论一样，广延量应当呈倍数关系，可能会因为计算中的些许近似（如k取有限个，有限的截断能等）以及数值误差导致两者些许差异；当进行掺杂（空穴）等并且涉及浓度不同的占位，用单胞根本没法描述，这个时候单胞计算就得进行扩胞再进行计算。

1. 建了超胞以后还要测试晶胞参数，k，encut吗？如果是，那是不是测试单胞的没有什么用了？  
Re:原则来说按照单胞的结果适当进行缩放不会造成问题，如果是单点计算进行的测试，建议超胞优化结束对测试进行检验确保万无一失。

1. 测试完后用得到的能量最低的做弛豫就算，这个时候得到的结构就可以做其它计算了？  
Re:这个也得看情况，比如一般晶格优化结束后直接切表面就有个近似，就是假定晶体切成表面之后与真空垂直的两个方向不发生弛豫；再比如，有些分子位阻很大，在表面吸附会发生严重形变，因此不见得真空中弛豫的结构直接贴到表面就是最好的。

1. 如果我要再算态密度、能带什么的，是不是在弛豫完的结构上接着做一个静态自洽计算？做静态自洽是为了得到什么？这个时候的结果和弛豫计算的有什么区别？我只知道做静态计算的时候nsw=0，ISMEAR=-5  
Re:VASP计算或更一般的第一性原理计算，涉及到多个k的问题，实际计算取有限个k并且采用了展宽（ismear≠-5）来保证计算效率和“力”计算的正确性，用于离子弛豫（量子化学称为“结构优化”）；但对于半导体、绝缘体的电子态、能量的结果是不准确的，很显然，从展宽的定义来看，能带占据是分数的，因此不适合能量、能带、DOS计算，因此这时应采用ismear=-5并且提高精度（适当放大k）进行静态自洽（量子化学称为“单点能计算”）。

1. 做完静态自洽后，再做态密度计算的时候，是不是要用静态自洽算完生成的CONTCAR，不用原来的POSCAR了？  
Re:原则来说离子不发生弛豫，POSCAR和CONTCAR哪个都行。但是离子弛豫之后做静态计算必须copy CONTCAR，这个也就不用说了。

1. vasp每一步计算之间的关系什么？怎么感觉每个计算是独立的，因为参数又变了，而且把原来的计算都给覆盖了，感觉等于没有算呢？
Re:你指的每一步指的是操作步骤吗？问题4的回答已经解释了为啥分为离子弛豫和静态自洽。


  

![](/img/wc-tail.GIF)

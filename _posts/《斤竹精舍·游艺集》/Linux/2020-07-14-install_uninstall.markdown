---
layout:     post
title:      "Linux安装及删除软件"
subtitle:   ""
date:       2020-07-14 14:29:00
author:     "XiLock"
header-img: ""
header-mask: 0.3
catalog:    true
tags:
    - 《斤竹精舍·游艺集》
    - Linux
    - 2020

---
  
### 简介
Linux软件的安装和卸载一直是困扰许多新用户的难题。在Windows中，我们可以使用软件自带的安装卸载程序或在控制面板中的“添加/删除程序”来实现。与其相类似，在Linux下有一个功能强大的软件安装卸载工具，名为RPM。它可以用来建立、安装、查询、更新、卸载软件。该工具是在命令行下使用的。在Shell的提示符后输入rpm，就可获得该命令的帮助信息。
软件的安装

Linux下软件的安装主要有两种不同的形式。第一种安装文件名为xxx.tar.gz；另一种安装文件名为xxx.i386.rpm。以第一种方式发行的软件多为以源码形式发送的；第二种方式则是直接以二进制形式发送的。

### 源码安装
对于第一种，安装方法如下：

1. 首先，将安装文件拷贝至你的目录中。例如，如果你是以root身份登录上的，就将软件拷贝至/root中。`#cp xxx.tar.gz /root`
2. 由于该文件是被压缩并打包的,应对其解压缩。命令为：`#tar xvzf filename.tar.gz` 如果是filename.tar.bz2格式的，应该是`tar jxvf filename.tar.bz2`来解压
3. 执行该命令后，安装文件按路径，解压缩在当前目录下。用ls命令可以看到解压缩后的文件。通常在解压缩后产生的文件中，有“Install”的文件。该文件为纯文本文件，详细讲述了该软件包的安装方法。
4. 执行解压缩后产生的一个名为configure的可执行脚本程序。它是用于检查系统是否有编译时所需的库，以及库的版本是否满足编译的需要等安装所需要的系统信息。为随后的编译工作做准备。命令为： `#./configure`。如果想把软件安装到指定目录，应该用`#./configure --prefix=/您自己指定的目录`，比如我想把一个mlterm安装到/opt/mlterm目录中，应该如下输入`#./configure --prefix=/opt/mlterm`
5. 检查通过后，将生成用于编译的MakeFile文件。此时，可以开始进行编译了。编译的过程视软件的规模和计算机性能的不同，所耗费的时间也不同。命令为： `#make`。
6. 成功编译后，键入如下的命令开始安装：`#make install`
7. 安装完毕，应清除编译过程中产生的临时文件和配置过程中产生的文件。键入如下命令：`#make clean` `#make distclean`

至此，软件的安装结束。

### rpm安装
同第一种方式一样，将安装文件（如filename.i386.rpm）拷贝至你的目录中。然后使用rpm来安装该文件。命令如下：`#rpm -i filename.i386.rpm`，rpm将自动将安装文件解包，并将软件安装到缺省的目录下。并将软件的安装信息注册到rpm的数据库中。参数i的作用是使rpm进入安装模式。

### 卸载

1. 软件的卸载主要是使用rpm来进行的。卸载软件首先要知道软件包在系统中注册的名称。键入命令：`#rpm -q -a` 即可查询到当前系统中安装的所有的软件包。
2. 确定了要卸载的软件的名称，就可以开始实际卸载该软件了。键入命令：`#rpm -e [package name]`,即可卸载软件。参数e的作用是使rpm进入卸载模式。对名为[package name]的软件包进行卸载。由于系统中各个软件包之间相互有依赖关系。如果因存在依赖关系而不能卸载，rpm将给予提示并停止卸载。你可以使用如下的命令来忽略依赖关系，直接开始卸载：`#rpm -e [package name] -nodeps`,忽略依赖关系的卸载可能会导致系统中其它的一些软件无法使用

如果想知道rpm包安装到哪里了应该用 `#rpm -ql [package name]`。

如何卸载用源码包安装的软件？

最好是看README和INSTALL ；一般的情况下都有说，但大多软件没有提供源码包的卸载方法；我们可以找到软件的安装点删除。主要看你把它安装在哪了。

比如：

如果安装软件时，指定个目录。这个问题也不会难；

比如用源码包安装gaim 的

```
#./configure --prefix=/opt/gaim

#make

#make install
```

如果安装mlterm
```
#./configure --prefix=/opt/mlterm

#make

#make install
```
把源码包安装的软件，都指定安装在 /opt目录中，这样不就知道了；

如果删除，就删除相应的软件目录；

有些软件要在解压安装目录中执行 make uninstall ，这样就卸载掉了。

### 其他
1. Redhat的yum，安装rpm包
1. debian和ubuntu的apt-get，安装deb包
1. bin文件，如下载到的软件名是soft.bin

![](/img/wc-tail.GIF)
